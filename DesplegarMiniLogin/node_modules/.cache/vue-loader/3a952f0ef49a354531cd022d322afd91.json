{"remainingRequest":"C:\\Users\\NeoKhazar\\source\\repos\\ProyectoFinal2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\NeoKhazar\\source\\repos\\ProyectoFinal2\\src\\components\\CRUD\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\NeoKhazar\\source\\repos\\ProyectoFinal2\\src\\components\\CRUD\\App.vue","mtime":1588600890896},{"path":"C:\\Users\\NeoKhazar\\source\\repos\\ProyectoFinal2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\NeoKhazar\\source\\repos\\ProyectoFinal2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\NeoKhazar\\source\\repos\\ProyectoFinal2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\NeoKhazar\\source\\repos\\ProyectoFinal2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Axios from \"axios\";\n\nexport default {\n    name: 'app',\n    data() {\n        return {\n            mensaje: 'Prueba de mensaje',\n            arrayDepartamentos: [],\n            departamento: {},\n            busqueda: { teclas: '' },\n            errorCodigoRepetido: ''\n        }\n    },\n    mounted() {\n        this.mostrarDatos()\n    },\n    methods: {\n        mostrarDatos: function () {\n            Axios.get(\"http://localhost/Api/api.php?accion=mostrar\")\n                .then(response => (this.arrayDepartamentos = response.data.departamentos))\n        },\n        busquedaPorDescripcion: function () {\n            let formData = new FormData()\n\n            formData.append(\"busqueda\", document.getElementById(\"busqueda\").value)\n\n            Axios.post(\"http://localhost/Api/api.php?accion=buscar\", formData)\n                .then(response => (this.arrayDepartamentos = response.data.departamentos))\n            //.then(function (response) {\n            //    console.log(response)\n            //})\n        },\n        nuevoDepartamento: function () {\n\n            let formData = new FormData()\n\n            formData.append(\"CodDepartamento\", document.getElementById(\"CodDepartamento\").value)\n            formData.append(\"DescDepartamento\", document.getElementById(\"DescDepartamento\").value)\n            formData.append(\"VolumenNegocio\", document.getElementById(\"VolumenNegocio\").value)\n            Axios.post(\"http://localhost/Api/api.php?accion=insertar\", formData)\n                .then(response => (this.errorCodigoRepetido = response.data.error))\n            this.mostrarDatos()\n            \n        },\n        editarDepartamento: function () {\n\n            let formData = new FormData()\n\n            formData.append(\"eCodDepartamento\", document.getElementById(\"eCodDepartamento\").value)\n            formData.append(\"eDescDepartamento\", document.getElementById(\"eDescDepartamento\").value)\n            formData.append(\"eVolumenNegocio\", document.getElementById(\"eVolumenNegocio\").value)\n\n            Axios.post(\"http://localhost/Api/api.php?accion=editar\", formData)\n                .then(function (response) {\n                    console.log(response)\n                })\n            this.mostrarDatos()\n        },\n        eliminarDepartamento: function () {\n\n            let formData = new FormData()\n\n            formData.append(\"bCodDepartamento\", document.getElementById(\"bCodDepartamento\").value)\n\n            Axios.post(\"http://localhost/Api/api.php?accion=eliminar\", formData)\n                .then(function (response) {\n                    console.log(response)\n                })\n            this.mostrarDatos()\n        },\n        elegirDepartamento(d) {\n            this.departamento = d\n            console.log(this.departamento)\n        }\n    }\n};\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src/components/CRUD","sourcesContent":["<template>\r\n    <div id=\"app\">\r\n        <p>{{ mensaje }}</p>\r\n        <label for=\"busqueda\">Busqueda </label>\r\n        <input type=\"text\" name=\"busqueda\" id=\"busqueda\" v-on:keyup=\"busquedaPorDescripcion\" v-model=\"busqueda.teclas\" />\r\n\r\n        <!-- Button trigger modal -->\r\n        <button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModal\">\r\n            Nuevo\r\n        </button>\r\n\r\n        <!-- Modal -->\r\n        <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Crear Departamento</h5>\r\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                            <span aria-hidden=\"true\">&times;</span>\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <label for=\"CodDepartamento\">Codigo </label>\r\n                        <input type=\"text\" name=\"CodDepartamento\" id=\"CodDepartamento\" /> <br />\r\n                        <div class=\"alert alert-dismissible alert-warning\" v-if=\"errorCodigoRepetido\">\r\n                            <p>EL codigo ya esta en la base de datos</p>\r\n                        </div>\r\n                        <label for=\"DescDepartamento\">Descripcion </label>\r\n                        <input type=\"text\" name=\"DescDepartamento\" id=\"DescDepartamento\" /> <br />\r\n                        <label for=\"VolumenNegocio\">Volumen de negocio </label>\r\n                        <input type=\"number\" name=\"VolumenNegocio\" id=\"VolumenNegocio\" />\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cerrar</button>\r\n                        <button @click=\"nuevoDepartamento()\" type=\"button\" class=\"btn btn-primary\">Crear</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <table class=\"table\">\r\n            <thead class=\"thead-dark\">\r\n                <tr>\r\n                    <th scope=\"col\">Codigo</th>\r\n                    <th scope=\"col\">Descripcion</th>\r\n                    <th scope=\"col\">Volumen</th>\r\n                    <th scope=\"col\">Operaciones</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr v-for=\" d in arrayDepartamentos\">\r\n                    <th>{{ d.CodDepartamento }}</th>\r\n                    <td>{{ d.DescDepartamento }}</td>\r\n                    <td>{{ d.VolumenNegocio }}</td>\r\n                    <td>\r\n                        <button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModal2\" @click=\"elegirDepartamento(d)\">\r\n                            Editar\r\n                        </button>\r\n                        <button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModal3\" @click=\"elegirDepartamento(d)\">\r\n                            Eliminar\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n        <div class=\"modal fade\" id=\"exampleModal2\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel2\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"exampleModalLabel2\">Editar Departamento</h5>\r\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                            <span aria-hidden=\"true\">&times;</span>\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <label for=\"eCodDepartamento\">Codigo </label>\r\n                        <input type=\"text\" name=\"eCodDepartamento\" id=\"eCodDepartamento\" v-model=\"departamento.CodDepartamento\" disabled /> <br />\r\n                        <label for=\"eDescDepartamento\">Descripcion </label>\r\n                        <input type=\"text\" name=\"eDescDepartamento\" id=\"eDescDepartamento\" v-model.lazy=\"departamento.DescDepartamento\" /> <br />\r\n                        <label for=\"eVolumenNegocio\">Volumen de negocio </label>\r\n                        <input type=\"number\" name=\"eVolumenNegocio\" id=\"eVolumenNegocio\" v-model.lazy=\"departamento.VolumenNegocio\" />\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cerrar</button>\r\n                        <button @click=\"editarDepartamento()\" type=\"button\" class=\"btn btn-primary\">Editar</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"modal fade\" id=\"exampleModal3\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel2\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"exampleModalLabel2\">Editar Departamento</h5>\r\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                            <span aria-hidden=\"true\">&times;</span>\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <label for=\"eCodDepartamento\">Codigo </label>\r\n                        <input type=\"text\" name=\"bCodDepartamento\" id=\"bCodDepartamento\" v-model=\"departamento.CodDepartamento\" disabled /> <br />\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cerrar</button>\r\n                        <button @click=\"eliminarDepartamento()\" type=\"button\" class=\"btn btn-primary\">Borrar</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Axios from \"axios\";\r\n\r\n    export default {\r\n        name: 'app',\r\n        data() {\r\n            return {\r\n                mensaje: 'Prueba de mensaje',\r\n                arrayDepartamentos: [],\r\n                departamento: {},\r\n                busqueda: { teclas: '' },\r\n                errorCodigoRepetido: ''\r\n            }\r\n        },\r\n        mounted() {\r\n            this.mostrarDatos()\r\n        },\r\n        methods: {\r\n            mostrarDatos: function () {\r\n                Axios.get(\"http://localhost/Api/api.php?accion=mostrar\")\r\n                    .then(response => (this.arrayDepartamentos = response.data.departamentos))\r\n            },\r\n            busquedaPorDescripcion: function () {\r\n                let formData = new FormData()\r\n\r\n                formData.append(\"busqueda\", document.getElementById(\"busqueda\").value)\r\n\r\n                Axios.post(\"http://localhost/Api/api.php?accion=buscar\", formData)\r\n                    .then(response => (this.arrayDepartamentos = response.data.departamentos))\r\n                //.then(function (response) {\r\n                //    console.log(response)\r\n                //})\r\n            },\r\n            nuevoDepartamento: function () {\r\n\r\n                let formData = new FormData()\r\n\r\n                formData.append(\"CodDepartamento\", document.getElementById(\"CodDepartamento\").value)\r\n                formData.append(\"DescDepartamento\", document.getElementById(\"DescDepartamento\").value)\r\n                formData.append(\"VolumenNegocio\", document.getElementById(\"VolumenNegocio\").value)\r\n                Axios.post(\"http://localhost/Api/api.php?accion=insertar\", formData)\r\n                    .then(response => (this.errorCodigoRepetido = response.data.error))\r\n                this.mostrarDatos()\r\n                \r\n            },\r\n            editarDepartamento: function () {\r\n\r\n                let formData = new FormData()\r\n\r\n                formData.append(\"eCodDepartamento\", document.getElementById(\"eCodDepartamento\").value)\r\n                formData.append(\"eDescDepartamento\", document.getElementById(\"eDescDepartamento\").value)\r\n                formData.append(\"eVolumenNegocio\", document.getElementById(\"eVolumenNegocio\").value)\r\n\r\n                Axios.post(\"http://localhost/Api/api.php?accion=editar\", formData)\r\n                    .then(function (response) {\r\n                        console.log(response)\r\n                    })\r\n                this.mostrarDatos()\r\n            },\r\n            eliminarDepartamento: function () {\r\n\r\n                let formData = new FormData()\r\n\r\n                formData.append(\"bCodDepartamento\", document.getElementById(\"bCodDepartamento\").value)\r\n\r\n                Axios.post(\"http://localhost/Api/api.php?accion=eliminar\", formData)\r\n                    .then(function (response) {\r\n                        console.log(response)\r\n                    })\r\n                this.mostrarDatos()\r\n            },\r\n            elegirDepartamento(d) {\r\n                this.departamento = d\r\n                console.log(this.departamento)\r\n            }\r\n        }\r\n    };\r\n</script>\r\n<style>\r\n</style>\r\n"]}]}